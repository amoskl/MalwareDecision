import os

from configuration import OUT_FOLDER
from tree_builder import TreeBuilder


class ExperimentRunner(object):

    def __init__(self, learning_set_class, ngram_size, top_ngram_size):
        self.ngram_size = ngram_size
        self.top_ngram_size = top_ngram_size

        self.benign_learning_set_dir = learning_set_class.BENIGN
        self.malware_learning_set_dir = learning_set_class.MALWARE

        self.name = learning_set_class.NAME + "_" + str(self.ngram_size) + "_" + str(self.top_ngram_size)

        self.out_folder = os.path.join(OUT_FOLDER, self.name)
        if not os.path.exists(self.out_folder):
            os.makedirs(self.out_folder)
        else:
            print "ERROR - you gave me a folder to create that is already exist!"
            exit()

    def build_tree(self):
        tree_builder = TreeBuilder(self)
        tree_builder.build()
