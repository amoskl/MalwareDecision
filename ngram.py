import subprocess
import os


class NgramBuilder(object):
    _NGRAMS_BUILDER = "ngrams_builder"
    _CURRENT_DIR = os.path.dirname(__file__)

    def __init__(self, n, malware_folder_path, benign_folder_path, output_path):
        self._n = n
        self._malware_folder_path = malware_folder_path
        self._benign_folder_path = benign_folder_path
        self._output_path = output_path

    def build(self):
        print os.path.join(self._CURRENT_DIR, self._NGRAMS_BUILDER)

        args = [os.path.join(self._CURRENT_DIR,
                             self._NGRAMS_BUILDER),
                str(self._n),
                self._benign_folder_path,
                self._malware_folder_path,
                self._output_path]
        subprocess.call(args)
